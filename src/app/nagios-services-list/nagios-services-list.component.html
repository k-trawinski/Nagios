<h2>Serwisy</h2>
<!-- <ul *ngFor="let nagiosService of nagiosServices">
  <li>{{nagiosService.name}}</li>
</ul> -->

<input #newNagiosServiceName type="text" pInputText placeholder="Nazwa serwisu"/> &nbsp;
<!-- <input #newNagiosServiceTeamId type="text" pInputText placeholder="Numer zespołu"/> &nbsp; -->
<p-dropdown width="120px" [options]="teams" [(ngModel)]="newSelectedTeam" optionLabel="name" required></p-dropdown>&nbsp;
<input #newNagiosServiceURL type="text" pInputText placeholder="URL serwisu"/> &nbsp;
<input #newNagiosServiceDesc type="text" pInputText placeholder="Opis"/> &nbsp;
<button type="button" pButton label="Dodaj" (click)="addNagiosService(newNagiosServiceName.value, newSelectedTeam.id, newNagiosServiceURL.value, newNagiosServiceDesc.value)"></button> &nbsp;
<br><br>
<p-table [value]="nagiosServices" (onEditComplete)="onEditComplete($event)">
  <ng-template pTemplate="header">
    <tr>
      <th width="40px">Id</th>
      <th>Nazwa</th>
      <th>Zespół</th>
      <th>URL</th>
      <th>Opis</th>
      <th width="75px"></th>
  </ng-template>
  <ng-template pTemplate="body" let-nagiosService>
    <tr>
      <td>{{ nagiosService.id }}</td>
      <td [pEditableColumn]="nagiosService" [pEditableColumnField]="'name'" >
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="text" [(ngModel)]="nagiosService.name" required>
          </ng-template>
          <ng-template pTemplate="output">
            {{ nagiosService.name }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td [pEditableColumn]="nagiosService" [pEditableColumnField]="'teamId'" >
        <p-cellEditor>
          <ng-template pTemplate="input">
            <!-- <input type="text" [(ngModel)]="nagiosService.teamId" required> -->
            <p-dropdown [options]="teams" [(ngModel)]="selectedTeam" optionLabel="name" required (onChange)="onComboChange(nagiosService.id)"></p-dropdown>
          </ng-template>
          <ng-template pTemplate="output">
            {{ this.TeamId2Name(nagiosService.teamId) }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td [pEditableColumn]="nagiosService" [pEditableColumnField]="'url'" >
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="text" [(ngModel)]="nagiosService.url" required>
          </ng-template>
          <ng-template pTemplate="output">
            {{ nagiosService.url }}
          </ng-template>
        </p-cellEditor>
      </td>
       <td [pEditableColumn]="nagiosService" [pEditableColumnField]="'description'" >
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input type="text" [(ngModel)]="nagiosService.description">
          </ng-template>
          <ng-template pTemplate="output">
            {{ nagiosService.description }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <button type="button" pButton label="X" (click)="deleteNagiosService(nagiosService.id)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>